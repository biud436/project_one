<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200;300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a99df0f94f.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>    
</head>
<body>
    <style>
        /* 컨텐츠 상단 마진을 줄입니다 */
        .contents-wrapper {
            margin-top: 8em;
        }

        .board-wrapper {
            font-family: 'Noto Serif KR', serif;
            font-size: 0.75em;
            color: #222222;
        }

        tr, td {
            margin: 0;
            padding: 0;
        }

        td {
            font-size: 90%;
        }

        .board-wrapper a {
            font-style: normal;
            text-decoration: none;
            color: #333333;
        }

        tr {
            border-bottom: 1px solid #EEEEEE;
        }

        tr:hover {
            background-color: #F6F6F6;
        }

        tr.notice > td {
            background-color: #EFEFEF;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            height: 2.25em;
            line-height: 2.25em;
        }
        .tb-header{
            background-color:#fcfcfc;
            border: none;
            border-top: 1px solid #EDEDED;
            border-bottom: 1px solid #CACACA;
            text-align:center;
            vertical-align:middle;
            color: #555555;
            text-rendering: geometricPrecision;
            height: 2.8125em;
            line-height: 2.8125em;
        }

        .title {
            min-width: 500px;
        }

        /* 분류 부분을 파란색으로 강조합니다 */
        tbody tr td:nth-child(2) {
            width: 4.5em;
            color: #2255AA;
        }        

        .notice {
            font-style: normal;
            font-weight: bold;
            font-size: 1.1em;
        }
        
        tbody tr td:not(:nth-child(3)) {
            text-align: center;
        }

        tbody tr td:nth-child(3):hover {
            text-decoration: underline;
        }       

        /* 게시판 상단 헤더 */
        .board-header {
            width: 100%;
            height: 2.25em;
            line-height: 2.25em;
            padding-bottom: 4px;
            margin-bottom: 1em;
            border-bottom: 1px solid #d2d2d2;
            color: #222222;
            font-size: 2em;
            font-family: 'Noto Serif KR', serif;
        }

        .board-footer {
            width: 100%;
            margin-top: 4px;
            height: 2em;
            margin-bottom: 3em;
            display: flex;
            justify-content: space-between;
        }

        .board-footer-pages-buttons-wrapper {
            display: flex;
        }

        .board-footer-pages-buttons-wrapper a {
            font-size: 0.8rem;
        }

        .board-search-box {
            display: flex;
            flex-wrap: nowrap;
        }

        .button {
            width: 6ch;
            height: 2em;
            line-height: 2em;
            text-align: center;
            background-color: #F6F6F6;
            border: 1px solid #E9E9E9;     
            border-bottom: 1px solid #CACACA;
            display: block;       
        }

        .button:hover {
            background-color: #EFEFEF;
        }

        /* 돋보기 아이콘을 표시합니다. */
        .board-search-box input {
            height: 2em;
            position: relative;
            margin: 0;
            padding: 0;
            padding-left: 2.75em;
            outline: none;
            border: 1px solid #EDEFF0;
            color: #999999;
            border-bottom: none;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAt9JREFUeNrMmD9oU1EUh99LoEMDgoHUQXFr6OZUyNYngQzaLUKFECenWoTg5OTYqRSkuHWxFKI0mzoEihkDTt1K3KRZEsggWKSQxN/Vn1Al5+bdP0negY+G3vvO+3jcd965Nxw/C+JGCkSgBAogD1ZAGgxBD3RAGzRBC4ymZj0YB6YRxpC+AbbBDrhtkLurlMAb8N2ndGrKeBV8BbuGwgHn7/L6auAxJOkMqIO3XAIuscI8deadiXQOfAZbgd/YYt6cb2n1JD6C9WA2sc78GZ/ShzGEVYV4BTbALXCTfzf4/04M8UMX6evVo8q1J8UFqIEG0L3yISiDfXBHM+8JOHKpHqqs7WnmnYJ74GSKcMDxE84/1czb432tpbc1L4i68QMwMMw94HWSeI73tVoeSvybUIcv+MQGDkswC86EpaI+QHexREamTzrSfDhqjsJ/n3hN8wGKbJZHSVMlGp5KXUNTVUo20gVh7DjGSxc3xsw3KQo20nlhrOX5wyLly9tIS73FuWfpc01vYiydFsauPEtL+dI20kNhbMmztJRvaCPdE8bWPEtL+Xo20lIpijxLR5rSaizdFsYqbH58RMh8k6JtI93UlKKyJ+myprQ1baRb7AEmxT57B5fIMo+0+W3ZSI+4a54Uqsl571BJlni91FcfmDZL11tTtc3vC3OK4JPFE8/yuqIw3ud9rftpdS7xQjOvyPbyUYyXM+S8M42wipfa8xCDw5p6jF14h81Pi5/mKy6DNZa1Ssx+Qu3MN7E8Ll2lM0w2q924F/H/d+M/wEPwZU7S98GHYCdcdj2s6TPZu6SKS8di6ok/5ja/5yilrn/KpeBFfNoB5BFY5ZveNZTt8rpVHs5s+hIP53w+vfxb7I+g9ctpIu0rnMVTwfzj0nWpLELaWXxR0k7ii5S2Fl+0dMCXzUh88dIW4smQNhN/nRzp+OKVZEnHFE+e9HTx42RK/yuumq2fRP1+/kuAAQAEq9U0xVoDAQAAAABJRU5ErkJggg==);
            background-size: 0.9375em;
            background-repeat: no-repeat;
            background-position-x: 1em;
            background-position-y: calc(50%);
        }

        /* 코멘트 색상을 변경합니다. */
        .comment {
            color: #E44F26;
            margin-left: 0.5em;
        }

        @media screen and (max-width: 720px) {
            .table {
                table-layout: fixed;
            }
            .table td:first-child, .table td:nth-last-child(2), .table td:last-child, 
            table th:first-child, .table th:nth-last-child(2), .table th:last-child  {
                display: none;
            }
        }

    </style>
    <!-- 컨테이너의 시작 -->
    <div class="container">
        <!-- 헤더의 시작 -->
        <header>
            <div class="header-wrapper">
                <!-- 헤더 왼쪽 : 로고 -->
                <div class="header-left">
                    <div class="" id="logo">
                        <a href="../index.html"><img src="https://dummyimage.com/64x64/000/fff" alt=""></a>
                    </div>
                    <a href="#">WOMEN</a>
                    <a href="#">MEN</a>
                </div>
                <!-- 헤더 중앙 : 메뉴 -->
                <div class="header-center">
                    <a href="../index.html">SHOP</a>
                    <a href="../item.html" target="_self">ITEM</a>
                    <a href="../sale.html">SALE</a>
                    <a href="#">MORE</a>
                </div>
                <!-- 헤더 오른쪽 : 로그인 / 검색 -->
                <div class="header-right">
                    <button class="header-right-login-button">로그인</button>
                    <input type="text" class="input-non-border-box" name="" id="" placeholder="검색어를 입력하세요">
                </div>
            </div>
            <!-- 숨겨진 메뉴 -->
            <div class="header-popup-container">
                <ul class="header-menu-list">
                    <li class="menu">
                        <a href="#" class="menu-link">
                            <div class="menu-icon"></div>
                            <p class="menu-title">최근 본 샵 <em>0</em></p>
                        </a>
                    </li>
                    <li class="menu">
                        <a href="#" class="menu-link">
                            <div class="menu-icon"></div>
                            <p class="menu-title">최근 본 상품 <em>0</em></p>
                        </a>
                    </li>
                    <li class="menu">
                        <a href="#" class="menu-link">
                            <div class="menu-icon"></div>
                            <p class="menu-title">MY SHOP</p>
                        </a>
                    </li>
                    <li class="menu">
                        <a href="#" class="menu-link">
                            <div class="menu-icon"></div>
                            <p class="menu-title">관심 상품</p>
                        </a>
                    </li>
                    <li class="menu">
                        <a href="#" class="menu-link">
                            <div class="menu-icon"></div>
                            <p class="menu-title">1:1 문의</p>
                        </a>
                    </li>
                    <li class="menu">
                        <a href="./map.html" class="menu-link">
                            <div class="menu-icon"></div>
                            <p class="menu-title">소개 및 약관</p>
                        </a>
                    </li>
                    <li class="menu">
                        <a href="./outer-link-page.html" class="menu-link">
                            <div class="menu-icon"></div>
                            <p class="menu-title">마케팅 센터</p>
                        </a>
                    </li>
                </ul>
            </div>
        </header>

        <!-- 본문의 시작 -->
        <section>
            <!-- 본문이 들어가는 래퍼 -->
            <div class="contents-wrapper">    
                <div class="board-wrapper" id="editor">
                    <div class="board-header">
                        <a href="#">게시판</a>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="tb-header post-no">글 번호</th>
                                <th class="tb-header">분류</th>
                                <th class="tb-header title">글 제목</th>
                                <th class="tb-header">이름</th>
                                <th class="tb-header">날짜</th>
                                <th class="tb-header">조회<br></th>
                                <th class="tb-header">추천</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="notice">
                                <td>18</td>
                                <td>공지</td>
                                <td><a href="#">공지사항입니다.</a></td>
                                <td>관리자</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>17</td>
                                <td>일반</td>
                                <td><a href="#">반품 관련으로 문의합니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>16</td>
                                <td>일반</td>
                                <td><a href="#">걱정입니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>15</td>
                                <td>일반</td>
                                <td><a href="#">반품 문의 합니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>14</td>
                                <td>일반</td>
                                <td><a href="#">반품 문의 합니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>13</td>
                                <td>일반</td>
                                <td><a href="#">반품 관련으로 문의합니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>12</td>
                                <td>일반</td>
                                <td><a href="#">걱정입니다.<span class="comment">[2]</span></a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>11</td>
                                <td>일반</td>
                                <td><a href="#">반품 문의 합니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>10</td>
                                <td>일반</td>
                                <td><a href="#">반품 관련으로 문의합니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>9</td>
                                <td>일반</td>
                                <td><a href="#">걱정입니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>8</td>
                                <td>일반</td>
                                <td><a href="#">반품 문의 합니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>7</td>
                                <td>일반</td>
                                <td><a href="#">반품 관련으로 문의합니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>6</td>
                                <td>일반</td>
                                <td><a href="#">걱정입니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>일반</td>
                                <td><a href="#">반품 문의 합니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>일반</td>
                                <td><a href="#">반품 관련으로 문의합니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>일반</td>
                                <td><a href="#">걱정입니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>일반</td>
                                <td><a href="#">반품 문의 합니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>일반</td>
                                <td><a href="#">반품 관련으로 문의합니다.</a></td>
                                <td>kjkj****</td>
                                <td>2020.11.20</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            </tbody>
                    </table>
                    <div class="board-footer">
                        <div>
                            <div class="board-search-box">
                                <input type="text" name="" class="seach-box">
                                <a href="#" class="button" id="search-button">검색</a>
                            </div>
                        </div>
                        <div class="board-footer-page-buttons">
                            <div class="board-footer-pages-buttons-wrapper">
                                <a href="#" class="button" id="prev-button">이전</a>
                                <a href="#" class="button">1</a>
                                <a href="#" class="button">2</a>
                                <a href="#" class="button">3</a>
                                <a href="#" class="button">4</a>
                                <a href="#" class="button">5</a>
                                <a href="#" class="button">6</a>
                                <a href="#" class="button">7</a>
                                <a href="#" class="button">8</a>
                                <a href="#" class="button">9</a>
                                <a href="#" class="button" id="next-button">다음</a>
                            </div>
                        </div>
                        <div>
                            <a href="board-smart-editor.html" class="button">글쓰기</a>
                        </div>
                    </div>
                </div>    
            </div>
        </section>
    </div>
    <!-- 라이트 박스-->
    <div id="light-box-container">
    </div>
    <!-- 스크립트 -->
    <!-- <script src="../js/boardMain.js"></script>     -->
    <script type="module" src="../js/MorePage.js"></script>    
    <script>
        let postCount = 100;

        // 한 페이지에 표시되는 글의 수
        let maxPostOfPage = 10;

        // 전체 게시물 수 / 한 페이지에 표시되는 글의 수
        let perPage = (postCount / maxPostOfPage) + 1;

        // 전체 페이지 수
        let pageCount = Math.floor(postCount / perPage) + 1;

        // TODO: 현재 페이지를 구하려면, maxPostOfPage + 1로 나누면 된다.
        let currentPostNumber = 18;
        let currentPage = (currentPostNumber / perPage) + 1;

        // 게시판 데이터 스키마
        let boardSchema = [
            {
                postNo: 0,
                postType: 'N', // Normal.
                postTitle: "",
                name: "",
                create_at: new Date(),
                view: 0,
                recommandCount: 0
            }
        ]

        let boardData = [{
            "postNumber": "글 번호",
            "postType": "Normal",
            "postTitle": "글 제목",
            "name": "이름",
            "create_at": "날짜",
            "view": "조회",
            "recommandCount": "추천"
        }, {
            "postNumber": "18",
            "postType": "Notice",
            "postTitle": "공지사항입니다.",
            "name": "관리자",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "17",
            "postType": "Normal",
            "postTitle": "반품 관련으로 문의합니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "16",
            "postType": "Normal",
            "postTitle": "걱정입니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "15",
            "postType": "Normal",
            "postTitle": "반품 문의 합니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "14",
            "postType": "Normal",
            "postTitle": "반품 문의 합니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "13",
            "postType": "Normal",
            "postTitle": "반품 관련으로 문의합니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "12",
            "postType": "Normal",
            "postTitle": "걱정입니다.[2]",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "11",
            "postType": "Normal",
            "postTitle": "반품 문의 합니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "10",
            "postType": "Normal",
            "postTitle": "반품 관련으로 문의합니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "9",
            "postType": "Normal",
            "postTitle": "걱정입니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "8",
            "postType": "Normal",
            "postTitle": "반품 문의 합니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "7",
            "postType": "Normal",
            "postTitle": "반품 관련으로 문의합니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "6",
            "postType": "Normal",
            "postTitle": "걱정입니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "5",
            "postType": "Normal",
            "postTitle": "반품 문의 합니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "4",
            "postType": "Normal",
            "postTitle": "반품 관련으로 문의합니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "3",
            "postType": "Normal",
            "postTitle": "걱정입니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "2",
            "postType": "Normal",
            "postTitle": "반품 문의 합니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }, {
            "postNumber": "1",
            "postType": "Normal",
            "postTitle": "반품 관련으로 문의합니다.",
            "name": "kjkj****",
            "create_at": "2020.11.20",
            "view": "0",
            "recommandCount": "0"
        }];

        const Editor = {
            init() {
                this.initWithEvent();
                this.initWithPages();
            },

            /**
             * 모바일에서 구동 중인지 확인합니다.
             */
            isMobileDevice() {
                // userAgent가 모바일이면 모바일 기기로 판단
                const isMobile = (/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));
                if(isMobile) return true;
                // 가로 길이가 720 이하라면 모바일 기기로 판단
                isMobile = $(window).innerWidth() <= 720;
                return isMobile;
            },

            initWithEvent() {
                const self = this;
                this._elem = $("#editor");
                this._elem.find("a").on("click", function(ev) {
                    const postNumber = $(this)
                        .parent()
                        .parent()
                        .find("td").eq(0).text();

                    // postNumber 전달
                    // pageNumber도 전달해야 할 듯 한데...
                    let url = new URLSearchParams(location.search);
                    url.set("postNumber", postNumber);

                    location.href = "board-post.html?&" + url.toString();
                    // location.search = ;
                });
            },

            initWithPages() {

            },

            nextPage() {

            },

            prevPage() {

            },

            toJson() {

                const data = [];

                $("#editor").find("tr").each((i, elem) => {
                    const tdItems = $(elem).children();
                    data.push({
                        postNumber: tdItems.eq(0).text(),
                        postType: tdItems.eq(1).text().trim() === "공지" ? "Notice" : "Normal",
                        postTitle : tdItems.eq(2).text(),
                        name : tdItems.eq(3).text(),
                        create_at: tdItems.eq(4).text(),
                        view: tdItems.eq(5).text(),
                        recommandCount: tdItems.eq(6).text()
                    });
                });

                return data;
            }
        };

        Editor.init();

    </script>
</body>
</html>